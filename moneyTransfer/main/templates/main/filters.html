{% load static %}

{# –§–æ—Ä–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ #}
<form method="get" class="filters-form">
    <div class="filters-grid">
        {# –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ #}
        <div class="filter-group">
            <label>–ü–µ—Ä–∏–æ–¥ –¥–∞—Ç:</label>
            <div class="date-filters">
                <input type="date" 
                       name="date_from" 
                       value="{{ request.GET.date_from|default:'' }}" 
                       class="filter-input" 
                       placeholder="–° –¥–∞—Ç—ã">
                <input type="date" 
                       name="date_to" 
                       value="{{ request.GET.date_to|default:'' }}" 
                       class="filter-input" 
                       placeholder="–ü–æ –¥–∞—Ç—É">
            </div>
        </div>

        {# –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ #}
        <div class="filter-group">
            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
            <select name="category" class="filter-select">
                <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                {% for category in categories %}
                    <option value="{{ category.id }}" 
                            {% if request.GET.category|stringformat:"s" == category.id|stringformat:"s" %}selected{% endif %}>
                        {{ category.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        {# –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ #}
        <div class="filter-group">
            <label>–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
            <select name="subcategory" class="filter-select">
                <option value="">–í—Å–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                {% for subcategory in subcategories %}
                    <option value="{{ subcategory.id }}"
                            {% if request.GET.subcategory|stringformat:"s" == subcategory.id|stringformat:"s" %}selected{% endif %}>
                        {{ subcategory.category.name }} - {{ subcategory.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        {# –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É #}
        <div class="filter-group">
            <label>–°—Ç–∞—Ç—É—Å:</label>
            <select name="status" class="filter-select">
                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                {% for status in status_choices %}
                    <option value="{{ status.id }}" 
                            {% if request.GET.status|stringformat:"s" == status.id|stringformat:"s" %}selected{% endif %}>
                        {{ status.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        {# –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É #}
        <div class="filter-group">
            <label>–¢–∏–ø:</label>
            <select name="type" class="filter-select">
                <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                {% for type in type_choices %}
                    <option value="{{ type.id }}" 
                            {% if request.GET.type|stringformat:"s" == type.id|stringformat:"s" %}selected{% endif %}>
                        {{ type.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        {# –ö–Ω–æ–ø–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ #}
        <div class="filter-actions">
            <button type="submit" class="btn btn-filter">üîç –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
            <a href="?" class="btn btn-clear">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å</a>
        </div>
    </div>
</form>

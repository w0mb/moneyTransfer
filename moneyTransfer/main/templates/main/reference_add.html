{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-5">üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</h1>

    {# –°–æ–æ–±—â–µ–Ω–∏—è #}
    {% if messages %}
        <div class="row">
            <div class="col-12">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} text-center">
                        {{ message|safe }}
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    <div class="row g-4">
        {# –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm border-primary">
                <div class="card-header bg-primary text-white text-center d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">üìä –°—Ç–∞—Ç—É—Å</h5>
                    <span class="badge bg-light text-dark">{{ status_count }}</span>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}
                        <input type="hidden" name="action" value="add_status">
                        <div class="mb-3">
                            <label class="form-label small fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞</label>
                            {{ status_form.name }}
                            {% if status_form.name.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in status_form.name.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <button type="submit" class="btn btn-primary w-100">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
                        </button>
                    </form>
                </div>
            </div>
        </div>

        {# –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–∞ #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm border-success">
                <div class="card-header bg-success text-white text-center d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">üîÑ –¢–∏–ø</h5>
                    <span class="badge bg-light text-dark">{{ type_count }}</span>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}
                        <input type="hidden" name="action" value="add_type">
                        <div class="mb-3">
                            <label class="form-label small fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞</label>
                            {{ type_form.name }}
                            {% if type_form.name.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in type_form.name.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <button type="submit" class="btn btn-success w-100">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø
                        </button>
                    </form>
                </div>
            </div>
        </div>

        {# –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm border-warning">
                <div class="card-header bg-warning text-dark text-center d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏—è</h5>
                    <span class="badge bg-light text-dark">{{ category_count }}</span>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}
                        <input type="hidden" name="action" value="add_category">
                        <div class="mb-3">
                            <label class="form-label small fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                            {{ category_form.name }}
                            {% if category_form.name.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in category_form.name.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <button type="submit" class="btn btn-warning w-100">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
                        </button>
                    </form>
                </div>
            </div>
        </div>

        {# –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ #}
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm border-info">
                <div class="card-header bg-info text-white text-center d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">üìÇ –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è</h5>
                    <span class="badge bg-light text-dark">{{ subcategory_count }}</span>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}
                        <input type="hidden" name="action" value="add_subcategory">
                        <div class="mb-3">
                            <label class="form-label small fw-bold">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            {{ subcategory_form.category }}
                            {% if subcategory_form.category.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in subcategory_form.category.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <div class="mb-3">
                            <label class="form-label small fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                            {{ subcategory_form.name }}
                            {% if subcategory_form.name.errors %}
                                <div class="text-danger small mt-1">
                                    {% for error in subcategory_form.name.errors %}{{ error }}{% endfor %}
                                </div>
                            {% endif %}
                        </div>
                        <button type="submit" class="btn btn-info w-100">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    {# –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ #}
    <div class="text-center mt-5">
        <div class="btn-group" role="group">
            <a href="{% url 'reference' %}" class="btn btn-outline-primary">
                üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫
            </a>
            <a href="{% url 'index' %}" class="btn btn-outline-secondary">
                üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
            </a>
        </div>
    </div>
</div>
{% endblock %}
